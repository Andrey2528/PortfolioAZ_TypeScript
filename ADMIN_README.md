# Админ-панель для портфолио

## Обзор функций

Админ-панель предоставляет удобный интерфейс для управления портфолио:

- ✅ **Аутентификация** - защищенный вход через Firebase Auth
- ✅ **Просмотр работ** - список всех проектов с поиском и сортировкой
- ✅ **Добавление работ** - форма для создания новых проектов
- ✅ **Редактирование** - изменение существующих проектов
- ✅ **Удаление** - безопасное удаление с подтверждением
- ✅ **Загрузка изображений** - автоматическая загрузка на Imgur
- ✅ **Валидация** - проверка обязательных полей

## Настройка

### 1. Переменные окружения

Создайте файл `.env` на основе `.env.example`:

```bash
cp .env.example .env
```

Заполните необходимые значения:

```env
# Firebase - получите из консоли Firebase
VITE_FIREBASE_API_KEY=ваш_api_key
VITE_FIREBASE_AUTH_DOMAIN=ваш_проект.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=ваш_project_id
# ... остальные конфигурации Firebase

# Imgur - зарегистрируйтесь на https://api.imgur.com/
VITE_IMGUR_CLIENT_ID=ваш_imgur_client_id
```

### 2. Firebase Authentication

1. В консоли Firebase включите аутентификацию по email/паролю
2. Создайте админского пользователя
3. Настройте правила безопасности Firestore:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Разрешить чтение всем для публичных данных
    match /portfolioCardData/{document} {
      allow read: if true;
      allow write: if request.auth != null; // Только для авторизованных
    }

    match /sertificateData/{document} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
```

### 3. Imgur API

1. Зарегистрируйтесь на https://api.imgur.com/
2. Создайте приложение
3. Получите Client ID
4. Добавьте его в `.env`

## Использование

### Доступ к админке

Перейдите по маршруту `/admin` в вашем приложении.

### Добавление работы

1. Войдите в админку
2. Нажмите "Добавить работу"
3. Заполните форму:
    - **Название** (обязательно)
    - **Подзаголовок** (обязательно)
    - **Изображение** (обязательно) - загрузите файл или вставьте URL
    - **Описание** (обязательно)
    - **Компания** (обязательно)
    - Остальные поля опциональны
4. Нажмите "Добавить"

### Редактирование

1. В списке работ нажмите "Редактировать" на нужной карточке
2. Измените данные в форме
3. Нажмите "Обновить"

### Поиск и сортировка

- **Поиск**: введите текст в поле поиска для фильтрации по названию, компании или тегам
- **Сортировка**: нажмите на кнопки "Название", "Год" или "Компания" для сортировки

## Структура данных

Каждая работа содержит следующие поля:

```typescript
interface IPortfolioCardFull {
    id: string; // Автоматически генерируется
    title: string; // Название проекта
    subTitle: string; // Краткое описание
    img: string; // URL изображения
    year: number; // Год создания
    design: string; // Инструменты дизайна
    role: string; // Роль в проекте
    tag: string; // Основной тег/технология
    platform: string; // Платформа (Web, Mobile, etc.)
    type: string[]; // Массив типов/технологий
    url: string; // Ссылка на проект
    description: string; // Подробное описание
    timeToEndWork: string; // Время выполнения
    company: string; // Компания/заказчик
    data: string; // Дата в формате YYYY-MM-DD
}
```

## Безопасность

- Аутентификация через Firebase Auth
- Проверка прав доступа на уровне Firestore
- Валидация данных на фронтенде
- Защита от CSRF через Firebase SDK
- Загрузка изображений через внешний сервис (Imgur)

## Ошибки и решения

### "Ошибка при загрузке изображения"

- Проверьте правильность IMGUR_CLIENT_ID
- Убедитесь в стабильном интернет-соединении
- Проверьте размер файла (максимум 10MB)

### "Ошибка при сохранении"

- Проверьте подключение к Firebase
- Убедитесь в правильности настройки Firestore правил
- Проверьте обязательные поля

### "Пользователь не найден"

- Создайте пользователя в Firebase Auth
- Проверьте правильность email/пароля

## Дальнейшее развитие

Возможные улучшения:

- [ ] Массовые операции (выделение и удаление нескольких работ)
- [ ] Импорт/экспорт данных
- [ ] Предварительный просмотр как на сайте
- [ ] Управление сертификатами
- [ ] Статистика и аналитика
- [ ] Система версий/черновиков
- [ ] Backup и восстановление
- [ ] Multi-admin поддержка с ролями
